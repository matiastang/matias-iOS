<!--
 * @Author: tangdaoyong
 * @Date: 2020-11-24 17:47:27
 * @LastEditors: tangdaoyong
 * @LastEditTime: 2021-01-08 17:10:47
 * @Description: HTML本地测试文件
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hello ios</title>

    <script>
        function imgClick() {
            window.location.href = 'https://www.baidu.com'
        }

        function divClick(e) {
            let element = document.getElementById('app')
            // element.style.background = 'blue';
            console.log(`点击了${element.innerText}`)
            if (confirm(`点击${element.innerText}`)) {
                let parameters = {
                    "status": "success"
                }
                // window.webkit.messageHandlers.jsConsole.postMessage(parameters);
                let promise = window.webkit.messageHandlers.jsConsole.postMessage(parameters);
                promise.then((result) => {
                    alert(result);
                }).catch((err) => {
                    alert(err);
                });
            }
            // alert(`点击了${element.innerText}`);
        }

        function shareSuccess(message) {
            let input = prompt('请输入内容', '');
            alert(input)
        }

        function goURL(url) {
            window.location.href = url;
        }

        function inputChange(e) {
            let element = document.getElementById('iosInput')
            alert(element.value)
        }

        function divReload(e) {
            window.webkit.messageHandlers.reload.postMessage({'reload': true});
        }

        function webViewJavascriptBridgeTest(e) {
            WebViewJavascriptBridge.showDic({
                'title' : '字典传值',
                'description' : 'JavascriptCore',
                'url' : 'https://www.baidu.com'
            })
        }

        function webViewJavascriptBridgeBack(dic) {
            alert(dic)
        }
    </script>
</head>
<body>
    <img src="https://www.baidu.com/img/PCtm_d9c8750bed0b3c7d089fa7d55720d6cf.png" onclick="imgClick();">
    <div id="app" style="width: 100%;height:400px;background-color: red;" onClick="divClick();">iOS JS 交互</div>
    <a href="jsToIOS://test?id=123">WKWebView-协议拦截</a>
    <div onclick="divReload();">刷新</div>
    <div onclick="webViewJavascriptBridgeTest();">JavascriptCore</div>
    <!-- <input id="iosInput" type="text" onchange="inputChange();" placeholder="请输入内容"> -->
</body>
</html>
